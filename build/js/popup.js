function getEle(e){return document.getElementById(e)}function getCurrent(e){chrome.tabs.query({active:!0,currentWindow:!0},e)}window.onload=function(){let e=getEle("submit"),t=getEle("addQuery"),n=getEle("jumpOption"),r=getEle("rmFrame");e.addEventListener("click",function(){e.disabled=!0;let n=t.value;if(!n)return alert("规则为空"),void(e.disabled=!1);var r;r=n,e.disabled=!1,getCurrent(e=>{chrome.tabs.sendMessage(e[0].id,{method:"deleteElement",message:r},function(e){})})}),n.addEventListener("click",function(){chrome.tabs.create({url:"chrome://extensions/?options="+chrome.runtime.id})}),r.addEventListener("change",function(e){const t=e.target.checked;getCurrent(e=>{chrome.tabs.sendMessage(e[0].id,{method:"rmFrame",message:t},function(e){chrome.tabs.reload()})})}),chrome.storage.sync.get({black:{},isRmFrame:{}},function(e){getCurrent(t=>{var n;const o=new URL(t[0].url);r.checked=null===(n=e.isRmFrame[o.host])||void 0===n||n})})};