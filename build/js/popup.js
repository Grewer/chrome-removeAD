function getEle(e){return document.getElementById(e)}window.onload=function(){let e=getEle("submit"),t=getEle("addQuery"),n=getEle("jumpOption"),r=getEle("rmFrame");e.addEventListener("click",function(){e.disabled=!0;let n=t.value;if(!n)return alert("规则为空"),void(e.disabled=!1);var r;r=n,e.disabled=!1,chrome.tabs.query({active:!0,currentWindow:!0},function(e){chrome.tabs.sendMessage(e[0].id,{method:"deleteElement",message:r},function(e){})})}),n.addEventListener("click",function(){chrome.tabs.create({url:"chrome://extensions/?options="+chrome.runtime.id})}),r.addEventListener("change",function(e){const t=e.target.checked;chrome.tabs.query({active:!0,currentWindow:!0},function(e){chrome.tabs.sendMessage(e[0].id,{method:"rmFrame",message:t},function(e){chrome.tabs.reload()})})}),chrome.storage.sync.get({black:{},isRmFrame:{}},function(e){chrome.tabs.query({active:!0,currentWindow:!0},function(t){var n;const c=new URL(t[0].url);r.checked=null===(n=e.isRmFrame[c.host])||void 0===n||n})})};